import{u as x,r as V,a as B,c as u,m as F,n as m,w as t,f as e,o as s,e as c,d as w,t as _,b as N,p as R,q as S,F as q,g as C,s as P,i as j,v as z,x as D,y as L,j as M,z as O}from"./index-B2sUpHKW.js";import{E as T,a as U}from"./el-form-item-JDeCQ2vQ.js";const J={__name:"Profile",setup(A){const{t:l}=x(),b=j(),d=V(),o=B({name:"",roleId:""}),r=u(()=>b.state.user.userInfo),n=u(()=>r.value.createdBy==="system"),y=u(()=>({roleId:{required:!0,message:l("form.roleRequired"),trigger:"blur"}}));F(r,()=>{g()},{immediate:!0});function g(){o.name=r.value.name,o.roleId=r.value.roleId}function I(){d.value.validate(i=>{i&&z({...o}).then(()=>{D.success(l("tips.success"))})})}return(i,p)=>{const f=U,v=O,h=L,E=M,k=T;return s(),m(k,{ref_key:"formRef",ref:d,model:e(o),rules:e(y),"label-width":"80px","label-position":"left"},{default:t(()=>[c(f,{label:e(l)("form.username")},{default:t(()=>[w("label",null,_(e(o).name),1)]),_:1},8,["label"]),c(f,{label:e(l)("form.group"),prop:e(n)?"":"roleId"},{default:t(()=>[c(h,{modelValue:e(o).roleId,"onUpdate:modelValue":p[0]||(p[0]=a=>e(o).roleId=a),disabled:e(n),placeholder:e(l)("form.choose"),style:{"margin-right":"10px"}},{default:t(()=>[(s(!0),N(q,null,R(e(S),a=>(s(),m(v,{key:a.name,label:a.label,value:a.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled","placeholder"]),e(n)?P("",!0):(s(),m(E,{key:0,type:"primary",onClick:I},{default:t(()=>[C(_(e(l)("action.apply")),1)]),_:1}))]),_:1},8,["label","prop"])]),_:1},8,["model","rules"])}}};export{J as default};
